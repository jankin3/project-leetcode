### 题目描述
输入一段带有括号的四则运算字符串，计算结果

### 思路－ 双栈
使用两个栈分别存储数字和操作符，然后计算
见下面代码

### 思路二　后缀表达式－todo
前缀表达式转化成后缀表达式然后计算，空间复杂度降低很多

```python
# -*-coding: utf-8-*-

class Solution():
    def get_result(self, s):
        '双栈存储, 开始计算'
        n_stack = [] # 存储数字的栈
        c_stack = [] #存储运算符号的栈
        i = 0
        while i < len(s):
            print(n_stack, c_stack)
            if s[i] in ('(', ')'):
                if s[i] == '(':
                    c_stack.append(s[i])
                else: # 括号内部出栈计算
                    while True:
                        cur_c = c_stack.pop()
                        if cur_c == '(':
                            break
                        right_n = n_stack.pop()
                        left_n = n_stack.pop()
                        c_result = self.calculate(left_n, right_n, cur_c)
                        n_stack.append(c_result)
                    if c_stack and c_stack[-1] in ('*', '/'): # 前一个符号是*//的计算
                        r = n_stack.pop()
                        l = n_stack.pop()
                        c_result = self.calculate(l, r, c_stack.pop())
                        n_stack.append(c_result)
            elif s[i] in ('*', '/'):
                if s[i+1] != '(':
                    r = s[i+1]
                    l = n_stack.pop()
                    c_result = self.calculate(l, r, s[i])
                    n_stack.append(c_result)

                    i += 1
                else:
                    c_stack.append(s[i])
            else:
                if s[i].isdigit():
                    num = int(s[i])
                    while True:
                        if i+1 <len(s) and s[i+1].isdigit():
                            num = num*10 + int(s[i+1])
                            i += 1
                        else:
                            break
                    n_stack.append(num)
                else:
                    c_stack.append(s[i])
            i += 1
        print(n_stack, c_stack)

        n = len(c_stack)
        for j in range(n):
            c = c_stack.pop()
            r = n_stack.pop()
            l = n_stack.pop()
            c_result = self.calculate(l, r, c)
            n_stack.append(c_result)
        return n_stack[0]

    def calculate(self, l, r, c):
        l = float(l)
        r = float(r)
        if c == '+':
            return l + r
        elif c == '-':
            return l - r
        elif c == '*':
            return l * r
        elif c == '/':
            return l / r

sol = Solution()
r = sol.get_result('1+2+2+(2+4)')
print('result:')
print(r)
```